<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<html>
<head>
	{% block title %}<title>Home Page</title>{% endblock %}
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
	<meta http-equiv="Pragma" content="no-cache"/>
	<meta http-equiv="Expires" content="0"/>
	{% load static %}
	<link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon"/>
	<link rel="stylesheet" href="{% static 'css/styles.css' %}">
	<link rel="stylesheet" href="{% static 'css/jquery.fullPage.css' %}">
	<link rel="stylesheet" href="{% static 'css/jquery-ui.min.css' %}">
	<style>
		#section1.load-background{
			background:url({% static 'images/bg1.jpg' %}) no-repeat center center;
		}
		#section2.load-background{
			background:url({% static 'images/bg2.jpg' %}) no-repeat center center;
		}
		#section3.load-background{
			background:url({% static 'images/bg3.jpg' %}) no-repeat center center;
		}
	</style>
	<script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/jquery-ui.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/jquery.fullPage.js' %}"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			var pagesTitle = ["Home Page", "Page number 2", "Page number 3", "Page number 4"];
			$("#noscript").attr("style","display: none;"),
			$("#fullpage").fullpage({
				verticalCentered: false,
				css3: false,
				menu: "#menu",
				anchors: ["Home", "secondPage", "3rdPage", "4thPage"],
				sectionsColor: ["#F0F2F4", "#fff", "#fff", "#fff"],
				navigation: true,
				navigationPosition: "right",
				navigationTooltips: pagesTitle,
				responsiveWidth: 900,
				afterLoad: function(anchorLink, index){
					if(index == 2){
						$("#iphone3, #iphone2, #iphone4").addClass("active");
					}
					document.title = pagesTitle[index-1];
				},
				onLeave: function(index, nextIndex, direction){
					if (index == 3 && direction == "down"){
						$(".section").eq(index -1).removeClass("moveDown").addClass("moveUp");
					}
					else if(index == 3 && direction == "up"){
						$(".section").eq(index -1).removeClass("moveUp").addClass("moveDown");
					}
					// Lazy load bg
					var destinationSection = $(".section").eq(nextIndex-1);
					destinationSection.addClass("load-background");
				},
				afterResponsive: function(isResponsive){
					
				}
			});
			$("#moveToHome").click(function(e){
				e.preventDefault();
				$.fn.fullpage.moveTo(1);
			});
			$("#moveToPage2").click(function(e){
				e.preventDefault();
				$.fn.fullpage.moveTo(2);
			});
			$("#moveToPage3").click(function(e){
				e.preventDefault();
				$.fn.fullpage.moveTo(3);
			});
			$("#moveToPage4").click(function(e){
				e.preventDefault();
				$.fn.fullpage.moveTo(4);
			});
			$("#autocomplete").autocomplete({
				source: function(request, response) {
					$.ajax({
						url: "/api/get_list/",
						dataType: "json",
						data: {q: request.term},
						success: function(data) {
							console.log(data.message.suggestions)
							response($.map(data.message.suggestions, function(item) {
								return {
									label: item.data + " - " + item.value,
									value: item.value
								};
							}));
						}
					});
				},
				minLength: 3,
				open: function() {$(this).removeClass("ui-corner-all").addClass("ui-corner-top");},
				close: function() {$(this).removeClass("ui-corner-top").addClass("ui-corner-all");}
			});
		});
	</script>
</head>
<body>
<div id="noscript">
<div><strong>Warning: </strong>For full functionality of this site it is necessary to enable JavaScript.<br/>Here are the <a href="http://www.enable-javascript.com/" target="_blank"> instructions how to enable JavaScript in your web browser</a>.</div>
</div>
<div id="header">FoodFinder
	<ul id="menu">
		<li data-menuanchor="Home" class="active"><a id="moveToHome" href="#">Home Page</a></li>
		<li data-menuanchor="secondPage"><a id="moveToPage2" href="#">Page number 2</a></li>
		<li data-menuanchor="3rdPage"><a id="moveToPage3" href="#">Page number 3</a></li>
		<li data-menuanchor="4thPage"><a id="moveToPage4" href="#">Page number 4</a></li>
	</ul>
</div>
<div id="footer">The site was build as a the final project at Tel Aviv University Database Systems (Fall 2018/19) course (0368-3458).</div>
<div id="fullpage">
	<div class="section" id="section0" style="background:url({% static 'images/bg0.jpg' %}) no-repeat center center;">
		<div class="wrap">
			<div class="box fp-auto-height-responsive">
				<h1>FoodFinder</h1>
				A new and innovative way to find the best restaurant that <strong>fits</strong> you.<br/>
				Ready? <a href="#secondPage">let's find you somewhere to eat</a>
			</div>
		</div>
	</div>
	<div class="section" id="section1">
		<div class="wrap">
			<div class="imgsContainer">
				<img src="{% static 'imgs/iphone2.png' %}" alt="iphone" id="iphone2"/>
				<img src="{% static 'imgs/iphone3.png' %}" alt="iphone" id="iphone3"/>
				<img src="{% static 'imgs/iphone4.png' %}" alt="iphone" id="iphone4"/>
			</div>
			<div class="box fp-auto-height-responsive">
				<h2>Lorem ipsum dolor sit amet.</h2>
				 <strong>Lorem ipsum</strong> dolor sit amet, consectetur adipiscing elit. Suspendisse iaculis,
				 dolor non imperdiet vulputate, lorem dui posuere ipsum, nec tincidunt nunc tellus ultrices orci.
				 Donec vel luctus ipsum. Proin a venenatis leo, eget blandit.
			</div>
		</div>
	</div>
	<div class="section moveDown" id="section2">
		<div class="wrap">
			<div class="imgsContainer">
				<img src="{% static 'images/image0.jpg' %}" alt="Plate Left" id="plate_left"/>
				<img src="{% static 'images/image1.jpg' %}" alt="Plate Middle" id="plate_middle"/>
				<img src="{% static 'images/image2.png' %}" alt="Plate Right" id="plate_right"/>
			</div>
			<div class="box fp-auto-height-responsive">
				<h2>Lorem ipsum dolor sit amet.</h2>
				<strong>Lorem ipsum</strong> dolor sit amet, consectetur adipiscing elit.
				Quisque eget dolor et leo porttitor consectetur id sit.
			</div>
		</div>
	</div>
	<div class="section moveDown" id="section3">
		<div class="wrap">
			<div class="box fp-auto-height-responsive">
				<h2>Lorem ipsum dolor sit amet.</h2>
				Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed accumsan sapien commodo nulla faucibus,
				sit amet semper quam accumsan. Vivamus consectetur odio mauris, quis laoreet massa rhoncus eu.
				Fusce scelerisque accumsan ex, sit amet volutpat urna interdum et. Phasellus in ipsum magna.
				Quisque ac tincidunt.
				<br/>
				<div class="ui-widget">
					<input type="text" name="country" id="autocomplete"/>
				</div>
			</div>
		</div>
	</div>
</div>
</body>
</html>
